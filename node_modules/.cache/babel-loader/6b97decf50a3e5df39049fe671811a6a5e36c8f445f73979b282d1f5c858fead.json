{"ast":null,"code":"var _jsxFileName = \"/workspace/src/components/Department.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport Employee from './Employee';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Department = ({\n  department,\n  employees,\n  departments,\n  onDrop,\n  onDragOver,\n  onDragLeave,\n  onDragStart,\n  onDragEnd,\n  onEmployeeEdit,\n  onEmployeeRemove,\n  onDepartmentEdit,\n  onDepartmentRemove,\n  onTitleEdit\n}) => {\n  _s();\n  const [isEditing, setIsEditing] = useState(false);\n  const [tempName, setTempName] = useState(department.name);\n  const inputRef = useRef();\n  const departmentEmployees = employees.filter(emp => emp.dept === department.id);\n  const handleDrop = e => {\n    e.preventDefault();\n    e.currentTarget.classList.remove('drop-hover');\n    const draggedId = e.dataTransfer.getData('text/plain');\n    onDrop(draggedId, department.id);\n  };\n  const handleDragOver = e => {\n    e.preventDefault();\n    e.dataTransfer.dropEffect = 'move';\n    e.currentTarget.classList.add('drop-hover');\n  };\n  const handleDragLeave = e => {\n    e.currentTarget.classList.remove('drop-hover');\n  };\n  const handleDragStart = e => {\n    e.target.classList.add('dragging');\n    e.dataTransfer.setData('text/plain', department.id);\n    e.dataTransfer.effectAllowed = 'move';\n    if (onDragStart) onDragStart('department', department.id);\n  };\n  const handleDragEnd = e => {\n    e.target.classList.remove('dragging');\n    if (onDragEnd) onDragEnd();\n  };\n  const handleTitleDoubleClick = () => {\n    setIsEditing(true);\n    setTimeout(() => {\n      if (inputRef.current) {\n        inputRef.current.focus();\n      }\n    }, 0);\n  };\n  const handleTitleSubmit = () => {\n    onTitleEdit(department.id, tempName || 'Departamento');\n    setIsEditing(false);\n  };\n  const handleKeyDown = e => {\n    if (e.key === 'Enter') {\n      handleTitleSubmit();\n    } else if (e.key === 'Escape') {\n      setTempName(department.name);\n      setIsEditing(false);\n    }\n  };\n  const departmentStyle = {};\n  if (department.color) {\n    departmentStyle.borderColor = department.color;\n    departmentStyle.background = `linear-gradient(135deg, ${department.color}15, ${department.color}05)`;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"department\",\n    draggable: true,\n    \"data-id\": department.id,\n    onDrop: handleDrop,\n    onDragOver: handleDragOver,\n    onDragLeave: handleDragLeave,\n    onDragStart: handleDragStart,\n    onDragEnd: handleDragEnd,\n    style: departmentStyle,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"department-title\",\n      children: [isEditing ? /*#__PURE__*/_jsxDEV(\"input\", {\n        ref: inputRef,\n        type: \"text\",\n        value: tempName,\n        onChange: e => setTempName(e.target.value),\n        onBlur: handleTitleSubmit,\n        onKeyDown: handleKeyDown,\n        style: {\n          fontSize: '1em'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n        onDoubleClick: handleTitleDoubleClick,\n        children: department.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"edit-btn\",\n        onClick: () => onDepartmentEdit(department.id),\n        title: \"Editar departamento\",\n        children: \"\\u270F\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"remove-btn\",\n        onClick: () => onDepartmentRemove(department.id),\n        title: \"Remover departamento\",\n        children: \"\\u2716\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), department.manager && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontSize: '0.9em',\n        color: '#666',\n        marginBottom: '8px'\n      },\n      children: [\"Gerente: \", department.manager]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }, this), departmentEmployees.map(emp => /*#__PURE__*/_jsxDEV(Employee, {\n      employee: emp,\n      departments: departments,\n      onDragStart: onDragStart,\n      onDragEnd: onDragEnd,\n      onEdit: onEmployeeEdit,\n      onRemove: onEmployeeRemove\n    }, emp.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n};\n_s(Department, \"X6x23VSh80C6bH8S9gQIRCRYvyA=\");\n_c = Department;\nexport default Department;\nvar _c;\n$RefreshReg$(_c, \"Department\");","map":{"version":3,"names":["React","useState","useRef","Employee","jsxDEV","_jsxDEV","Department","department","employees","departments","onDrop","onDragOver","onDragLeave","onDragStart","onDragEnd","onEmployeeEdit","onEmployeeRemove","onDepartmentEdit","onDepartmentRemove","onTitleEdit","_s","isEditing","setIsEditing","tempName","setTempName","name","inputRef","departmentEmployees","filter","emp","dept","id","handleDrop","e","preventDefault","currentTarget","classList","remove","draggedId","dataTransfer","getData","handleDragOver","dropEffect","add","handleDragLeave","handleDragStart","target","setData","effectAllowed","handleDragEnd","handleTitleDoubleClick","setTimeout","current","focus","handleTitleSubmit","handleKeyDown","key","departmentStyle","color","borderColor","background","className","draggable","style","children","ref","type","value","onChange","onBlur","onKeyDown","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","onDoubleClick","onClick","title","manager","marginBottom","map","employee","onEdit","onRemove","_c","$RefreshReg$"],"sources":["/workspace/src/components/Department.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport Employee from './Employee';\n\nconst Department = ({ \n  department, \n  employees, \n  departments,\n  onDrop, \n  onDragOver, \n  onDragLeave,\n  onDragStart,\n  onDragEnd,\n  onEmployeeEdit,\n  onEmployeeRemove,\n  onDepartmentEdit,\n  onDepartmentRemove,\n  onTitleEdit\n}) => {\n  const [isEditing, setIsEditing] = useState(false);\n  const [tempName, setTempName] = useState(department.name);\n  const inputRef = useRef();\n\n  const departmentEmployees = employees.filter(emp => emp.dept === department.id);\n\n  const handleDrop = (e) => {\n    e.preventDefault();\n    e.currentTarget.classList.remove('drop-hover');\n    const draggedId = e.dataTransfer.getData('text/plain');\n    onDrop(draggedId, department.id);\n  };\n\n  const handleDragOver = (e) => {\n    e.preventDefault();\n    e.dataTransfer.dropEffect = 'move';\n    e.currentTarget.classList.add('drop-hover');\n  };\n\n  const handleDragLeave = (e) => {\n    e.currentTarget.classList.remove('drop-hover');\n  };\n\n  const handleDragStart = (e) => {\n    e.target.classList.add('dragging');\n    e.dataTransfer.setData('text/plain', department.id);\n    e.dataTransfer.effectAllowed = 'move';\n    if (onDragStart) onDragStart('department', department.id);\n  };\n\n  const handleDragEnd = (e) => {\n    e.target.classList.remove('dragging');\n    if (onDragEnd) onDragEnd();\n  };\n\n  const handleTitleDoubleClick = () => {\n    setIsEditing(true);\n    setTimeout(() => {\n      if (inputRef.current) {\n        inputRef.current.focus();\n      }\n    }, 0);\n  };\n\n  const handleTitleSubmit = () => {\n    onTitleEdit(department.id, tempName || 'Departamento');\n    setIsEditing(false);\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      handleTitleSubmit();\n    } else if (e.key === 'Escape') {\n      setTempName(department.name);\n      setIsEditing(false);\n    }\n  };\n\n  const departmentStyle = {};\n  if (department.color) {\n    departmentStyle.borderColor = department.color;\n    departmentStyle.background = `linear-gradient(135deg, ${department.color}15, ${department.color}05)`;\n  }\n\n  return (\n    <div \n      className=\"department\"\n      draggable\n      data-id={department.id}\n      onDrop={handleDrop}\n      onDragOver={handleDragOver}\n      onDragLeave={handleDragLeave}\n      onDragStart={handleDragStart}\n      onDragEnd={handleDragEnd}\n      style={departmentStyle}\n    >\n      <div className=\"department-title\">\n        {isEditing ? (\n          <input\n            ref={inputRef}\n            type=\"text\"\n            value={tempName}\n            onChange={(e) => setTempName(e.target.value)}\n            onBlur={handleTitleSubmit}\n            onKeyDown={handleKeyDown}\n            style={{ fontSize: '1em' }}\n          />\n        ) : (\n          <span onDoubleClick={handleTitleDoubleClick}>\n            {department.name}\n          </span>\n        )}\n        <button \n          className=\"edit-btn\" \n          onClick={() => onDepartmentEdit(department.id)}\n          title=\"Editar departamento\"\n        >\n          ✏️\n        </button>\n        <button \n          className=\"remove-btn\" \n          onClick={() => onDepartmentRemove(department.id)}\n          title=\"Remover departamento\"\n        >\n          ✖\n        </button>\n      </div>\n      \n      {department.manager && (\n        <div style={{ \n          fontSize: '0.9em', \n          color: '#666', \n          marginBottom: '8px' \n        }}>\n          Gerente: {department.manager}\n        </div>\n      )}\n      \n      {departmentEmployees.map(emp => (\n        <Employee\n          key={emp.id}\n          employee={emp}\n          departments={departments}\n          onDragStart={onDragStart}\n          onDragEnd={onDragEnd}\n          onEdit={onEmployeeEdit}\n          onRemove={onEmployeeRemove}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default Department;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}